<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:include="include :: header('用户积分列表')" />
</head>
<style>
    ul,li{
        list-style: none;
        margin: 0;
        padding: 0;
        width: 100%;
    }
    .box2222{
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content:space-between;
    }
    .box2222 li{
        width: calc(50% - 5px);
        margin: 10px 0 10px 0;
    }
</style>
<div style="text-align: center">
<p style="margin: 20px 0px 20px 0px" ><img th:src="${user.avatar}"></html></p>
</div>
<section>
    <ul class="box2222">
        <li>
            <div>我的昵称：<span th:text="${user.nickName}"></span></div>
        </li>
        <li>
            <div>我的胜率：<span th:text="${info.winRate}"></span></div>
        </li>
        <li>
            <div>我的积分：<span th:text="${info.integral}"></span></div>
        </li>
        <li>
            <div>积分排名：<span th:text="${info.rank}" style="color: red"></span></div>
        </li>
    </ul>
</section>
<p th:if="${info.rank <=3} "><span style="color: red">当前级别：冠绝</span></p>
<p th:if="${info.rank >3 && info.rank <=10} "><span style="color:#00B83F">当前级别：超凡</span></p>
<p th:if="${info.rank >10 && info.rank <=18} "><span style="color: #0d8ddb">当前级别：传奇</span></p>
<p th:if="${info.rank > 18} "><span style="color: grey">当前级别：中军</span></p>
<body class="gray-bg">
<div class="container-div">
    <div class="row">
        <div class="col-sm-12 select-table table-striped">
            <table id="bootstrap-table"></table>
        </div>
    </div>
</div>
<th:block th:include="include :: footer" />
<script th:inline="javascript">
    var prefix = ctx;

    $(function() {
        var options = {
            url: prefix + "/list",
            pageSize:20,
            showSearch: false,                     // 是否显示检索信息
            showPageGo: false,               		// 是否显示跳转页
            showRefresh: false,                   // 是否显示刷新按钮
            showColumns: false,
            pagination:false,
            showToggle:false,
            createUrl: prefix + "/add",
            updateUrl: prefix + "/edit/{id}",
            removeUrl: prefix + "/remove",
            exportUrl: prefix + "/export",
            modalName: "用户积分",
            columns: [
                {
                    field: 'nickName',
                    title: '用户',
                },
                {
                    field: 'integral',
                    title: '积分'
                },
                {
                    field: 'winRate',
                    title: '胜率'
                },
                {
                    field: 'mvpCount',
                    title: 'mvp次数'
                },
                {
                    field: 'kda',
                    title: '场均KDA'
                },
                {
                    field: 'curMaxCount',
                    title: '当前连胜/连败数'
                },
                {
                    field: 'isWin',
                    title: '连胜/连败',
                    formatter: function(value, row, index) {
                        if(value != 1){
                            return "连胜";
                        }else{
                            return "连败";
                        }
                    },
                    cellStyle: function(value, row, index) {
                        if(value != 1){
                            return {css:{"color":"green"}}
                        }else{
                            return {css:{"color":"red"}}
                        }
                    }
                },
                {
                    field: 'lastPlayTime',
                    title: '最后比赛时间'
                },
                {
                    field: 'averageKills',
                    title: '场均击杀'
                },
                {
                    field: 'averageDeaths',
                    title: '场均阵亡'
                },
                {
                    field: 'averageAssists',
                    title: '场均助攻'
                },
                {
                    field: 'goldPerMin',
                    title: 'GPM'
                },
                {
                    field: 'xpPerMin',
                    title: 'XPM'
                }]
        };
        $.table.init(options);
    });
</script>
</body>
</html>